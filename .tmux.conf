# shell
set-option -g default-shell /bin/zsh
# shell shouldn't run as a login shell
set -g default-command /bin/zsh

set -sg escape-time 1
set -g base-index 1
setw -g pane-base-index 1

bind R source-file ~/.tmux.conf \; display 'Reloaded!'
if-shell "[[ `tmux -V` == *1.9 ]] || [[ `tmux -V` == *2.* ]]" "bind-key c new-window -c '#{pane_current_path}'"
if-shell "[[ `tmux -V` == *1.9 ]] || [[ `tmux -V` == *2.* ]]" "bind-key '\"' split-window -c '#{pane_current_path}'"
if-shell "[[ `tmux -V` == *1.9 ]] || [[ `tmux -V` == *2.* ]]" "bind-key 's' split-window -c '#{pane_current_path}'"
if-shell "[[ `tmux -V` == *1.9 ]] || [[ `tmux -V` == *2.* ]]" "bind-key % split-window -h -c '#{pane_current_path}'"
if-shell "[[ `tmux -V` == *1.9 ]] || [[ `tmux -V` == *2.* ]]" "bind-key v split-window -h -c '#{pane_current_path}'"

# Mouse
# http://tangledhelix.com/blog/2012/07/16/tmux-and-mouse-mode/
bind m \
  set -g mouse on \;\
  display 'Mouse: ON'
bind M \
  set -g mouse off \;\
  display 'Mouse: OFF'

set-window-option -g mode-keys vi

# mouse mode on by default
set -g mouse on;

# select pane alt-*
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# resize pane alt-*
bind -r < resize-pane -L 5
bind -r - resize-pane -D 5
bind -r + resize-pane -U 5
bind -r > resize-pane -R 5

# https://github.com/jottr/dotfiles/commit/60e06a860644d89b0bcad837d42510850a69a54a
# Enter copy mode with mouse wheel
bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'select-pane -t=; copy-mode -e; send-keys -M'"
bind -n WheelDownPane select-pane -t= \; send-keys -M

set -g default-terminal 'xterm-16color'
set -g terminal-overrides 'xterm:colors=88'

# theme stuff
set -g @nord_tmux_show_status_content "1"
set -g @nord_tmux_no_patched_font "0"

# clock
set-window-option -g clock-mode-colour colour64 #green

# set the theme
run-shell "~/.tmux/themes/nord-tmux/nord.tmux"
